<Page
  @id='products-index'
  @title='Products'
  @backRoute='home'
  @crumbs={{array
    (hash label='Interflux' route='home')
    (hash label='Products')
  }}
>
  <article aria-label='products'>
    <div class='liner'>
      <div class='box'>
        <h1 id='h1'><span>Products&nbsp;</span><small>by family</small></h1>

        {{#each this.sortedFamilies as |family|}}
          <section aria-labelledby='h2-{{family.id}}'>
            <h2 id='h2-{{family.id}}'>{{family.label}}</h2>
            <a href={{href-to 'home.products.subset' family.id}}>
              {{#each family.images as |image|}}
                {{#if image.path}}
                  <ResponsiveImage
                    @path={{image.path}}
                    @variations={{image.variations}}
                    @caption={{image.caption}}
                    @alt={{image.alt}}
                  />
                {{/if}}
              {{/each}}
              <div class='cta'>
                <p class='button'>
                  <span>See all</span>
                  <Svg::ArrowRight />
                </p>
              </div>
            </a>
          </section>
        {{/each}}
      </div>

      <div class='box'>
        <h1 id='h1'><span>Products&nbsp;</span><small>by process</small></h1>

        {{#each this.sortedUses as |use|}}
          <section aria-labelledby='h2-{{use.id}}'>
            <h2 id='h2-{{use.id}}'>For {{use.text}}</h2>
            <a href={{href-to 'home.products.subset' (concat 'for-' use.id)}}>
              {{#each use.images as |image|}}
                {{#if image.path}}
                  <ResponsiveImage
                    @path={{image.path}}
                    @variations={{image.variations}}
                    @caption={{image.caption}}
                    @alt={{image.alt}}
                  />
                {{/if}}
              {{/each}}
              <div class='cta'>
                <p class='button'>
                  <span>See all</span>
                  <Svg::ArrowRight />
                </p>
              </div>
            </a>
          </section>
        {{/each}}
      </div>
    </div>
  </article>
</Page>