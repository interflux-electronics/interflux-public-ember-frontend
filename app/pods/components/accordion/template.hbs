<ul class='accordion' {{did-insert this.onInsert}}>
  {{#each @sections as |section i|}}
    <li class='section'>
      {{#if section.content}}
        <button type='button' {{on 'click' (fn this.onButtonClick i)}}>
          <div class='left'>
            <Image @src={{section.iconURL}} @width='40' @height='40' />
          </div>
          <div class='middle'>
            <p>{{section.label}}</p>
          </div>
          <div class='right'>
            <Svg::ArrowRight />
          </div>
        </button>
        <div class='content'>
          <p>
            {{section.content}}
          </p>
          <ul class='links'>
            {{#each section.links as |link|}}
              <li>
                {{#if link.url}}
                  <p>
                    <Link @url={{link.url}} @label={{link.label}} />
                  </p>
                {{/if}}

                {{#if link.route}}
                  <Button
                    @route={{link.route}}
                    @model={{link.model}}
                  >{{link.label}}</Button>
                {{/if}}
              </li>
            {{/each}}
          </ul>
        </div>
      {{else}}
        <div class='no-content'>
          <div class='left'>
            <Image @src={{section.iconURL}} @width='40' @height='40' />
          </div>
          <div class='middle'>
            <p>{{section.label}}</p>
          </div>
        </div>
      {{/if}}
    </li>
  {{/each}}
</ul>