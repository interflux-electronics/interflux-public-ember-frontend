{{#if this.page.showError}}
  <RouteErrorMessage />
{{else if this.page.showLoading}}
  <LoadingCube @message='Loading ...' />
{{else}}
  {{#if this.page.showHeader}}
    {{#unless @loading}}
      <Header::Mobile
        @title={{if @error 'Whoops' this.title}}
        @backRoute={{this.backRoute}}
        @backModel={{this.backModel}}
      />
    {{/unless}}
  {{/if}}

  <div
    id='page'
    class={{this.pageClasses}}
    style={{this.pageStyle}}
    data-main={{this.id}}
    onclick={{this.onPageClick}}
  >
    {{#if this.page.showHeader}}
      {{#unless @loading}}
        <Header::Desktop @theme={{this.page.theme}} />
        {{#if @crumbs}}
          <Breadcrumbs @crumbs={{@crumbs}} />
        {{/if}}
      {{/unless}}
    {{/if}}

    <main
      id={{this.id}}
      class={{this.mainClasses}}
      aria-labelledby={{@ariaLabelledby}}
      aria-describedby={{@ariaDescribedby}}
    >
      {{yield}}
    </main>

    {{#if this.page.showFooter}}
      <div class='spacer'></div>
      <Footer />
    {{/if}}
  </div>
{{/if}}